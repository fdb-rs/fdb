<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A read-only subset of a FDB `Transaction`."><meta name="keywords" content="rust, rustlang, rust-lang, ReadTransaction"><title>ReadTransaction in fdb::transaction - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../../dark.css" disabled><link rel="stylesheet" type="text/css" href="../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../storage.js"></script><script src="../../crates.js"></script><script defer src="../../main.js"></script>
    <noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../favicon.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../fdb/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../../fdb/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"><a href="#">ReadTransaction</a></h2><div class="sidebar-elems"><section><div class="block"><h3 class="sidebar-title"><a href="#required-methods">Required Methods</a></h3><ul><li><a href="#tymethod.get">get</a></li><li><a href="#tymethod.get_addresses_for_key">get_addresses_for_key</a></li><li><a href="#tymethod.get_estimated_range_size_bytes">get_estimated_range_size_bytes</a></li><li><a href="#tymethod.get_key">get_key</a></li><li><a href="#tymethod.get_mapped_range">get_mapped_range</a></li><li><a href="#tymethod.get_range">get_range</a></li><li><a href="#tymethod.get_range_split_points">get_range_split_points</a></li><li><a href="#tymethod.get_read_version">get_read_version</a></li><li><a href="#tymethod.on_error">on_error</a></li><li><a href="#tymethod.set_option">set_option</a></li><li><a href="#tymethod.set_read_version">set_read_version</a></li></ul></div><div class="block"><h3 class="sidebar-title"><a href="#implementors">Implementors</a></h3></div></section><h2 class="location"><a href="index.html">In fdb::transaction</a></h2><div id="sidebar-vars" data-name="ReadTransaction" data-ty="trait" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../fdb/index.html"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></a><nav class="sub"><div class="theme-picker hidden"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="22" height="22" alt="Pick another theme!" src="../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Trait <a href="../index.html">fdb</a>::<wbr><a href="index.html">transaction</a>::<wbr><a class="trait" href="#">ReadTransaction</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../../src/fdb/transaction/read_transaction.rs.html#32-203">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><div class="docblock item-decl"><pre class="rust trait"><code>pub trait ReadTransaction {
    unsafe fn <a href="#tymethod.on_error" class="fnname">on_error</a>(&amp;self, e: <a class="struct" href="../error/struct.FdbError.html" title="struct fdb::error::FdbError">FdbError</a>) -&gt; <a class="type" href="../future/type.FdbFutureUnit.html" title="type fdb::future::FdbFutureUnit">FdbFutureUnit</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.get" class="fnname">get</a>(&amp;self, key: impl <a class="trait" href="https://doc.rust-lang.org/1.62.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="../struct.Key.html" title="struct fdb::Key">Key</a>&gt;) -&gt; <a class="type" href="../future/type.FdbFutureMaybeValue.html" title="type fdb::future::FdbFutureMaybeValue">FdbFutureMaybeValue</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.get_addresses_for_key" class="fnname">get_addresses_for_key</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key: impl <a class="trait" href="https://doc.rust-lang.org/1.62.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="../struct.Key.html" title="struct fdb::Key">Key</a>&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="type" href="../future/type.FdbFutureCStringArray.html" title="type fdb::future::FdbFutureCStringArray">FdbFutureCStringArray</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.get_estimated_range_size_bytes" class="fnname">get_estimated_range_size_bytes</a>(&amp;self, range: <a class="struct" href="../range/struct.Range.html" title="struct fdb::range::Range">Range</a>) -&gt; <a class="type" href="../future/type.FdbFutureI64.html" title="type fdb::future::FdbFutureI64">FdbFutureI64</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.get_key" class="fnname">get_key</a>(&amp;self, selector: <a class="struct" href="../struct.KeySelector.html" title="struct fdb::KeySelector">KeySelector</a>) -&gt; <a class="type" href="../future/type.FdbFutureKey.html" title="type fdb::future::FdbFutureKey">FdbFutureKey</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.get_mapped_range" class="fnname">get_mapped_range</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin: <a class="struct" href="../struct.KeySelector.html" title="struct fdb::KeySelector">KeySelector</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end: <a class="struct" href="../struct.KeySelector.html" title="struct fdb::KeySelector">KeySelector</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapper: impl <a class="trait" href="https://doc.rust-lang.org/1.62.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="../struct.Mapper.html" title="struct fdb::Mapper">Mapper</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;options: <a class="struct" href="../range/struct.RangeOptions.html" title="struct fdb::range::RangeOptions">RangeOptions</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="struct" href="../future/struct.FdbStreamMappedKeyValue.html" title="struct fdb::future::FdbStreamMappedKeyValue">FdbStreamMappedKeyValue</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.get_range" class="fnname">get_range</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin: <a class="struct" href="../struct.KeySelector.html" title="struct fdb::KeySelector">KeySelector</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end: <a class="struct" href="../struct.KeySelector.html" title="struct fdb::KeySelector">KeySelector</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;options: <a class="struct" href="../range/struct.RangeOptions.html" title="struct fdb::range::RangeOptions">RangeOptions</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="struct" href="../future/struct.FdbStreamKeyValue.html" title="struct fdb::future::FdbStreamKeyValue">FdbStreamKeyValue</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.get_range_split_points" class="fnname">get_range_split_points</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin: impl <a class="trait" href="https://doc.rust-lang.org/1.62.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="../struct.Key.html" title="struct fdb::Key">Key</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end: impl <a class="trait" href="https://doc.rust-lang.org/1.62.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="../struct.Key.html" title="struct fdb::Key">Key</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chunk_size: <a class="primitive" href="https://doc.rust-lang.org/1.62.0/std/primitive.i64.html">i64</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="type" href="../future/type.FdbFutureKeyArray.html" title="type fdb::future::FdbFutureKeyArray">FdbFutureKeyArray</a>;
<span class="item-spacer"></span>    unsafe fn <a href="#tymethod.get_read_version" class="fnname">get_read_version</a>(&amp;self) -&gt; <a class="type" href="../future/type.FdbFutureI64.html" title="type fdb::future::FdbFutureI64">FdbFutureI64</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.set_option" class="fnname">set_option</a>(&amp;self, option: <a class="enum" href="enum.TransactionOption.html" title="enum fdb::transaction::TransactionOption">TransactionOption</a>) -&gt; <a class="type" href="../error/type.FdbResult.html" title="type fdb::error::FdbResult">FdbResult</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.62.0/std/primitive.unit.html">()</a>&gt;;
<span class="item-spacer"></span>    unsafe fn <a href="#tymethod.set_read_version" class="fnname">set_read_version</a>(&amp;self, version: <a class="primitive" href="https://doc.rust-lang.org/1.62.0/std/primitive.i64.html">i64</a>);
}</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A read-only subset of a FDB <a href="trait.Transaction.html"><code>Transaction</code></a>.</p>
</div></details><h2 id="required-methods" class="small-section-header">Required Methods<a href="#required-methods" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open><summary><div id="tymethod.on_error" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/fdb/transaction/read_transaction.rs.html#56">source</a></div><h4 class="code-header">unsafe fn <a href="#tymethod.on_error" class="fnname">on_error</a>(&amp;self, e: <a class="struct" href="../error/struct.FdbError.html" title="struct fdb::error::FdbError">FdbError</a>) -&gt; <a class="type" href="../future/type.FdbFutureUnit.html" title="type fdb::future::FdbFutureUnit">FdbFutureUnit</a></h4></div></summary><div class="docblock"><p>Determines whether an error returned by a <a href="trait.Transaction.html"><code>Transaction</code></a>
or <a href="trait.ReadTransaction.html" title="ReadTransaction"><code>ReadTransaction</code></a> method is retryable. Waiting on the returned future will
return the same error when fatal, or return <code>()</code> for retryable
errors.</p>
<p>Typical code will not use this method directly. It is used by
<a href="../database/struct.FdbDatabase.html#method.run"><code>run</code></a> and <a href="../database/struct.FdbDatabase.html#method.read"><code>read</code></a> methods when they need to implement
correct retry loop.</p>
<p>Equivalent to:</p>

<div class='information'><div class='tooltip ignore'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered ignore"><code><span class="kw">async</span> <span class="kw">unsafe</span> <span class="kw">fn</span> <span class="ident">on_error</span>(<span class="kw-2">&amp;</span><span class="self">self</span>, <span class="ident">e</span>: <span class="ident">FdbError</span>) -&gt; <span class="ident">FdbResult</span><span class="op">&lt;</span>()<span class="op">&gt;</span></code></pre></div>
<h5 id="safety"><a href="#safety">Safety</a></h5>
<p>See <a href="https://apple.github.io/foundationdb/api-c.html#c.fdb_transaction_on_error">C API</a> for more details.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.get" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/fdb/transaction/read_transaction.rs.html#65">source</a></div><h4 class="code-header">fn <a href="#tymethod.get" class="fnname">get</a>(&amp;self, key: impl <a class="trait" href="https://doc.rust-lang.org/1.62.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="../struct.Key.html" title="struct fdb::Key">Key</a>&gt;) -&gt; <a class="type" href="../future/type.FdbFutureMaybeValue.html" title="type fdb::future::FdbFutureMaybeValue">FdbFutureMaybeValue</a></h4></div></summary><div class="docblock"><p>Gets a value from the database.</p>
<p>Equivalent to:</p>

<div class='information'><div class='tooltip ignore'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered ignore"><code><span class="kw">async</span> <span class="kw">fn</span> <span class="ident">get</span>(<span class="kw-2">&amp;</span><span class="self">self</span>, <span class="ident">key</span>: <span class="kw">impl</span> <span class="ident">Into</span><span class="op">&lt;</span><span class="ident">Key</span><span class="op">&gt;</span>) -&gt; <span class="ident">FdbResult</span><span class="op">&lt;</span><span class="prelude-ty">Option</span><span class="op">&lt;</span><span class="ident">Value</span><span class="op">&gt;</span><span class="op">&gt;</span></code></pre></div>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.get_addresses_for_key" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/fdb/transaction/read_transaction.rs.html#78">source</a></div><h4 class="code-header">fn <a href="#tymethod.get_addresses_for_key" class="fnname">get_addresses_for_key</a>(&amp;self, key: impl <a class="trait" href="https://doc.rust-lang.org/1.62.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="../struct.Key.html" title="struct fdb::Key">Key</a>&gt;) -&gt; <a class="type" href="../future/type.FdbFutureCStringArray.html" title="type fdb::future::FdbFutureCStringArray">FdbFutureCStringArray</a></h4></div></summary><div class="docblock"><p>Get a list of public network addresses as <a href="https://doc.rust-lang.org/1.62.0/std/ffi/type.CString.html"><code>CString</code></a>, one for
each of the storage servers responsible for storing <a href="../struct.Key.html" title="Key"><code>Key</code></a>
and its associated value.</p>
<p>Equivalent to:</p>

<div class='information'><div class='tooltip ignore'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered ignore"><code><span class="kw">async</span> <span class="kw">fn</span> <span class="ident">get_addresses_for_key</span>(<span class="kw-2">&amp;</span><span class="self">self</span>, <span class="ident">key</span>: <span class="kw">impl</span> <span class="ident">Into</span><span class="op">&lt;</span><span class="ident">Key</span><span class="op">&gt;</span>) -&gt; <span class="ident">FdbResult</span><span class="op">&lt;</span><span class="ident">Vec</span><span class="op">&lt;</span><span class="ident">CString</span><span class="op">&gt;</span><span class="op">&gt;</span>;</code></pre></div>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.get_estimated_range_size_bytes" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/fdb/transaction/read_transaction.rs.html#100">source</a></div><h4 class="code-header">fn <a href="#tymethod.get_estimated_range_size_bytes" class="fnname">get_estimated_range_size_bytes</a>(&amp;self, range: <a class="struct" href="../range/struct.Range.html" title="struct fdb::range::Range">Range</a>) -&gt; <a class="type" href="../future/type.FdbFutureI64.html" title="type fdb::future::FdbFutureI64">FdbFutureI64</a></h4></div></summary><div class="docblock"><p>Gets an estimate for the number of bytes stored in the given
range.</p>
<p>Equivalent to:</p>

<div class='information'><div class='tooltip ignore'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered ignore"><code><span class="kw">async</span> <span class="kw">fn</span> <span class="ident">get_estimated_range_size_bytes</span>(<span class="kw-2">&amp;</span><span class="self">self</span>, <span class="ident">range</span>: <span class="ident">Range</span>) -&gt; <span class="ident">FdbResult</span><span class="op">&lt;</span><span class="ident">i64</span><span class="op">&gt;</span></code></pre></div>
<h5 id="note"><a href="#note">Note</a></h5>
<p>The estimated size is calculated based on the sampling done by
FDB server. The sampling algorithm roughly works this way: The
sampling algorithm works roughly in this way: the lager the
key-value pair is, the more likely it would be sampled and the
more accurate its sampled size would be. And due to that
reason, it is recommended to use this API to query against
large ranges for accuracy considerations. For a rough
reference, if the returned size is larger than 3MB, one can
consider the size to be accurate.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.get_key" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/fdb/transaction/read_transaction.rs.html#109">source</a></div><h4 class="code-header">fn <a href="#tymethod.get_key" class="fnname">get_key</a>(&amp;self, selector: <a class="struct" href="../struct.KeySelector.html" title="struct fdb::KeySelector">KeySelector</a>) -&gt; <a class="type" href="../future/type.FdbFutureKey.html" title="type fdb::future::FdbFutureKey">FdbFutureKey</a></h4></div></summary><div class="docblock"><p>Returns the key referenced by the specificed <a href="../struct.KeySelector.html" title="KeySelector"><code>KeySelector</code></a>.</p>
<p>Equivalent to:</p>

<div class='information'><div class='tooltip ignore'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered ignore"><code><span class="kw">async</span> <span class="kw">fn</span> <span class="ident">get_key</span>(<span class="kw-2">&amp;</span><span class="self">self</span>, <span class="ident">selector</span>: <span class="ident">KeySelector</span>) -&gt; <span class="ident">FdbResult</span><span class="op">&lt;</span><span class="ident">Key</span><span class="op">&gt;</span></code></pre></div>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.get_mapped_range" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/fdb/transaction/read_transaction.rs.html#122-128">source</a></div><h4 class="code-header">fn <a href="#tymethod.get_mapped_range" class="fnname">get_mapped_range</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;begin: <a class="struct" href="../struct.KeySelector.html" title="struct fdb::KeySelector">KeySelector</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;end: <a class="struct" href="../struct.KeySelector.html" title="struct fdb::KeySelector">KeySelector</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;mapper: impl <a class="trait" href="https://doc.rust-lang.org/1.62.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="../struct.Mapper.html" title="struct fdb::Mapper">Mapper</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;options: <a class="struct" href="../range/struct.RangeOptions.html" title="struct fdb::range::RangeOptions">RangeOptions</a><br>) -&gt; <a class="struct" href="../future/struct.FdbStreamMappedKeyValue.html" title="struct fdb::future::FdbStreamMappedKeyValue">FdbStreamMappedKeyValue</a></h4></div></summary><div class="docblock"><p>WARNING: This feature is considered experimental at this time.</p>
<p>Gets an ordered range of mapped keys and values from the
database.</p>
<p>The returned <a href="../future/struct.FdbStreamMappedKeyValue.html" title="FdbStreamMappedKeyValue"><code>FdbStreamMappedKeyValue</code></a> implements <a href="futures::Stream"><code>Stream</code></a>
trait that yields a <a href="../struct.MappedKeyValue.html"><code>MappedKeyValue</code></a> item.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.get_range" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/fdb/transaction/read_transaction.rs.html#137-142">source</a></div><h4 class="code-header">fn <a href="#tymethod.get_range" class="fnname">get_range</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;begin: <a class="struct" href="../struct.KeySelector.html" title="struct fdb::KeySelector">KeySelector</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;end: <a class="struct" href="../struct.KeySelector.html" title="struct fdb::KeySelector">KeySelector</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;options: <a class="struct" href="../range/struct.RangeOptions.html" title="struct fdb::range::RangeOptions">RangeOptions</a><br>) -&gt; <a class="struct" href="../future/struct.FdbStreamKeyValue.html" title="struct fdb::future::FdbStreamKeyValue">FdbStreamKeyValue</a></h4></div></summary><div class="docblock"><p>Gets an ordered range of keys and values from the database.</p>
<p>The returned <a href="../future/struct.FdbStreamKeyValue.html" title="FdbStreamKeyValue"><code>FdbStreamKeyValue</code></a> implements <a href="futures::Stream"><code>Stream</code></a> trait
that yields a <a href="../struct.KeyValue.html"><code>KeyValue</code></a> item.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.get_range_split_points" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/fdb/transaction/read_transaction.rs.html#158-163">source</a></div><h4 class="code-header">fn <a href="#tymethod.get_range_split_points" class="fnname">get_range_split_points</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;begin: impl <a class="trait" href="https://doc.rust-lang.org/1.62.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="../struct.Key.html" title="struct fdb::Key">Key</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;end: impl <a class="trait" href="https://doc.rust-lang.org/1.62.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="../struct.Key.html" title="struct fdb::Key">Key</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;chunk_size: <a class="primitive" href="https://doc.rust-lang.org/1.62.0/std/primitive.i64.html">i64</a><br>) -&gt; <a class="type" href="../future/type.FdbFutureKeyArray.html" title="type fdb::future::FdbFutureKeyArray">FdbFutureKeyArray</a></h4></div></summary><div class="docblock"><p>Gets a list of keys that can split the given range into
(roughly) equally sized chunks based on <code>chunk_size</code>.</p>
<p>Equivalent to:</p>

<div class='information'><div class='tooltip ignore'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered ignore"><code><span class="kw">async</span> <span class="kw">fn</span> <span class="ident">get_range_split_points</span>(
    <span class="kw-2">&amp;</span><span class="self">self</span>,
    <span class="ident">begin</span>: <span class="kw">impl</span> <span class="ident">Into</span><span class="op">&lt;</span><span class="ident">Key</span><span class="op">&gt;</span>,
    <span class="ident">end</span>: <span class="kw">impl</span> <span class="ident">Into</span><span class="op">&lt;</span><span class="ident">Key</span><span class="op">&gt;</span>,
    <span class="ident">chunk_size</span>: <span class="ident">i64</span>,
) -&gt; <span class="ident">FdbResult</span><span class="op">&lt;</span><span class="ident">Vec</span><span class="op">&lt;</span><span class="ident">Key</span><span class="op">&gt;</span><span class="op">&gt;</span></code></pre></div>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.get_read_version" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/fdb/transaction/read_transaction.rs.html#187">source</a></div><h4 class="code-header">unsafe fn <a href="#tymethod.get_read_version" class="fnname">get_read_version</a>(&amp;self) -&gt; <a class="type" href="../future/type.FdbFutureI64.html" title="type fdb::future::FdbFutureI64">FdbFutureI64</a></h4></div></summary><div class="docblock"><p>Gets the version at which the reads for this <a href="trait.Transaction.html"><code>Transaction</code></a>
or <a href="trait.ReadTransaction.html" title="ReadTransaction"><code>ReadTransaction</code></a> will access the database.</p>
<p>Equivalent to:</p>

<div class='information'><div class='tooltip ignore'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered ignore"><code><span class="kw">async</span> <span class="kw">unsafe</span> <span class="kw">fn</span> <span class="ident">get_read_version</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) -&gt; <span class="ident">FdbResult</span><span class="op">&lt;</span><span class="ident">i64</span><span class="op">&gt;</span></code></pre></div>
<h5 id="safety-1"><a href="#safety-1">Safety</a></h5>
<p>The <a href="../future/struct.FdbFuture.html"><code>FdbFuture</code></a> resolves to an <a href="https://doc.rust-lang.org/1.62.0/std/primitive.i64.html" title="i64"><code>i64</code></a> instead of a <a href="https://doc.rust-lang.org/1.62.0/std/primitive.u64.html" title="u64"><code>u64</code></a>
because of <a href="https://github.com/apple/foundationdb/blob/6.3.22/fdbclient/FDBTypes.h#L32">internal representation</a>. Even though it is an
<a href="https://doc.rust-lang.org/1.62.0/std/primitive.i64.html" title="i64"><code>i64</code></a>, the future will always return a positive
number. Negative GRV numbers are used internally within FDB.</p>
<p>You only rely on GRV only for read-only transactions. For
read-write transactions you should use commit version.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.set_option" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/fdb/transaction/read_transaction.rs.html#192">source</a></div><h4 class="code-header">fn <a href="#tymethod.set_option" class="fnname">set_option</a>(&amp;self, option: <a class="enum" href="enum.TransactionOption.html" title="enum fdb::transaction::TransactionOption">TransactionOption</a>) -&gt; <a class="type" href="../error/type.FdbResult.html" title="type fdb::error::FdbResult">FdbResult</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.62.0/std/primitive.unit.html">()</a>&gt;</h4></div></summary><div class="docblock"><p>Set options on a <a href="trait.Transaction.html"><code>Transaction</code></a> or <a href="trait.ReadTransaction.html" title="ReadTransaction"><code>ReadTransaction</code></a></p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.set_read_version" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/fdb/transaction/read_transaction.rs.html#202">source</a></div><h4 class="code-header">unsafe fn <a href="#tymethod.set_read_version" class="fnname">set_read_version</a>(&amp;self, version: <a class="primitive" href="https://doc.rust-lang.org/1.62.0/std/primitive.i64.html">i64</a>)</h4></div></summary><div class="docblock"><p>Directly sets the version of the database at which to execute
reads.</p>
<h5 id="safety-2"><a href="#safety-2">Safety</a></h5>
<p>See <a href="https://apple.github.io/foundationdb/api-c.html#c.fdb_transaction_set_read_version">C API</a> for more details.</p>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor"></a></h2><div class="item-list" id="implementors-list"><section id="impl-ReadTransaction" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../../src/fdb/transaction/fdb_transaction.rs.html#545-609">source</a></span><a href="#impl-ReadTransaction" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="trait.ReadTransaction.html" title="trait fdb::transaction::ReadTransaction">ReadTransaction</a> for <a class="struct" href="struct.FdbReadTransaction.html" title="struct fdb::transaction::FdbReadTransaction">FdbReadTransaction</a></h3></section><section id="impl-ReadTransaction-1" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../../src/fdb/transaction/fdb_transaction.rs.html#225-299">source</a></span><a href="#impl-ReadTransaction-1" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="trait.ReadTransaction.html" title="trait fdb::transaction::ReadTransaction">ReadTransaction</a> for <a class="struct" href="struct.FdbTransaction.html" title="struct fdb::transaction::FdbTransaction">FdbTransaction</a></h3></section></div><script type="text/javascript" src="../../implementors/fdb/transaction/read_transaction/trait.ReadTransaction.js" data-ignore-extern-crates="" async></script></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-current-crate="fdb" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.62.0 (a8314ef7d 2022-06-27)" ></div>
</body></html>